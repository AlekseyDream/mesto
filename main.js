(()=>{"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.p="";var n=function(){function e(t,r){var n=t.Card,o=t.userId,i=t.handleCardClick,a=t.handleLikeClick,u=t.handleDeleteCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._Card=n,this._name=n.name,this._link=n.link,this._cardId=n._id,this._like=n.like,this._userId=o,this._isOwner=n.owner._id,this._handleCardClick=i,this._handleLikeClick=a,this._handleDeleteCard=u,this._templateSelector=r,this._element=this._getTemplate(),this._deleteCard=this._element.querySelector(".gallery__button-delete"),this._cardLike=this._element.querySelector(".gallery__button-like"),this._cardImage=this._element.querySelector(".gallery__image"),this._cardName=this._element.querySelector(".gallery__title"),this._likeNumber=this._element.querySelector(".gallery__like-number")}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".gallery__element").cloneNode(!0)}},{key:"likeCard",value:function(e){this._like=this._Card.like,this._likeNumber.textContent=e,this._cardLike.classList.toggle("gallery__button-like_active")}},{key:"isLike",value:function(){return this._cardLike.classList.contains("gallery__button-like_active")}},{key:"showLike",value:function(){var e=this;this._like.forEach((function(t){t._id===e._userId&&e._cardLike.classList.add("gallery__button-like_active")}))}},{key:"hiddenTrash",value:function(){this.isMyCard=this._userId===this._isOwner,this.isMyCard||this._deleteCard.classList.toggle("gallery__button-delete_hidden")}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}},{key:"getCardId",value:function(){return this._cardId}},{key:"generateCard",value:function(){return this._cardName.textContent=this._name,this._cardImage.alt=this._name,this._cardImage.src=this._link,this._likeNumber.textContent=this._like.length,this._setEventListeners(),this.hiddenTrash(),this.showLike(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._deleteCard.addEventListener("click",(function(){e._element.remove()})),this._cardLike.addEventListener("click",(function(){e._cardLike.classList.toggle("gallery__button-like_active")})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}e.p,e.p,e.p,e.p,e.p,e.p;var c=a((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_showInputError",(function(e,t){var r=n._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(n._listSelector.inputErrorClass),r.textContent=t,r.classList.add(n._listSelector.errorClass)})),u(this,"_hideInputError",(function(e){var t=n._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(n._listSelector.inputErrorClass),t.classList.remove(n._listSelector.errorClass),t.textContent=""})),u(this,"_checkInputValidity",(function(e){e.validity.valid?n._hideInputError(e):n._showInputError(e,e.validationMessage)})),u(this,"_toggleButtonState",(function(){n._hasInvalidInput()?(n._buttonElement.setAttribute("disabled",!0),n._buttonElement.classList.add(n._listSelector.inactiveButtonClass)):(n._buttonElement.removeAttribute("disabled"),n._buttonElement.classList.remove(n._listSelector.inactiveButtonClass))})),u(this,"_hasInvalidInput",(function(){return n._inputList.some((function(e){return!e.validity.valid}))})),u(this,"_setEventListeners",(function(){n._toggleButtonState(),n._inputList.forEach((function(e){e.addEventListener("input",(function(){n._checkInputValidity(e),n._toggleButtonState()}))}))})),u(this,"resetValid",(function(){n._toggleButtonState(),n._inputList.forEach((function(e){n._hideInputError(e)}))})),u(this,"enableValidation",(function(){n._setEventListeners(),n._toggleButtonState()})),this._formElement=t,this._listSelector=r,this._inputList=Array.from(t.querySelectorAll(this._listSelector.inputSelector)),this._buttonElement=this._formElement.querySelector(this._listSelector.submitButtonSelector)}));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}var p=function(){function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;this._items.reverse().forEach((function(t){e._renderer(t)}))}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function h(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var m=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"_handleEscapeKey",(function(e){"Escape"===e.key&&r.close()})),h(this,"_closeByOverlay",(function(e){e.target.classList.contains("popup")&&r.close()})),this._popup=document.querySelector(t),this._popupProfileClose=this._popup.querySelector(".popup__button-close"),this.close=this.close.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscapeKey)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscapeKey)}},{key:"setEventListeners",value:function(){this._popupProfileClose.addEventListener("click",this.close),this._popup.addEventListener("click",this._closeByOverlay)}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},S.apply(this,arguments)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(o){var r=k(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImage=t._popup.querySelector(".popup__image"),t._popupCaption=t._popup.querySelector(".popup__caption"),t}return t=a,(r=[{key:"open",value:function(e,t){S(k(a.prototype),"open",this).call(this),this._popupImage.src=t,this._popupImage.alt=e,this._popupCaption.textContent=e}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(m);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},j.apply(this,arguments)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(n);if(o){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._formElement=r._popup.querySelector(".popup__form"),r._handleSumbit=t,r._inputList=Array.from(r._formElement.querySelectorAll(".popup__form-input")),r._button=r._formElement.querySelector(".popup__button-save"),r}return t=a,r=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){j(L(a.prototype),"close",this).call(this),this._formElement.reset()}},{key:"loading",value:function(e,t){this._button.textContent=e?"Сохранение...":t}},{key:"setEventListeners",value:function(){var e=this;j(L(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSumbit(e._getInputValues()),e.close()}))}}],r&&C(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(m);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===I(o)?o:String(o)),n)}var o}var T=function(){function e(t){var r=t.nameSelector,n=t.aboutSelector,o=t.profileAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(r),this.userAbout=document.querySelector(n),this.profileAvatar=document.querySelector(o)}var t,r;return t=e,r=[{key:"setUserAvatar",value:function(e){var t=e.profileAvatar;this.profileAvatar.src=t}},{key:"getUserInfo",value:function(){return{name:this.userName.textContent,about:this.userAbout.textContent}}},{key:"setUserInfo",value:function(e){var t=e.inputName,r=e.inputAbout;this.userName.textContent=t,this.userAbout.textContent=r}}],r&&q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===A(o)?o:String(o)),n)}var o}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,r;return t=e,(r=[{key:"_handleReply",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleReply)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)}).then(this._handleReply)}}])&&R(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B=document.querySelector(".content"),U=B.querySelector(".profile__button"),N=document.querySelector(".profile__button-edit"),V=(B.querySelector(".profile__name"),B.querySelector(".profile__description"),document.querySelector(".profile__avatar"),document.querySelector(".popup_data_avatar")),D=(V.querySelector(".popup__form-input_data_avatar"),V.querySelector(".popup__form-avatar")),M=document.querySelector(".popup_data_profile-edit"),J=(M.querySelector(".popup__button-close"),M.querySelector("#popup__form-profile")),K=M.querySelector(".popup__form-input_data_name"),H=M.querySelector(".popup__form-input_data_about"),z=document.querySelector(".popup_data_card-add"),W=(z.querySelector(".popup__button-close"),z.querySelector(".popup__form-input_data_title"),z.querySelector(".popup__form-input_data_link"),z.querySelector("#popup__form-card")),$=(document.querySelector(".popup_data_image-add").querySelector(".popup__button-close"),document.querySelector(".profile__button-addCard")),F=(document.querySelector(".gallery"),document.querySelector(".popup__image"),document.querySelector(".popup__caption"),{formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button-save_inactive",inputErrorClass:"popup__form-input_error",errorClass:"popup__input-error_active"});function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q=new c(W,F);Q.enableValidation();var X=new c(J,F);X.enableValidation();var Y=new c(D,F);Y.enableValidation();var Z=new p({renderer:function(e){Z.addItem(ue(e))}},".gallery"),ee=new P(".popup_data_profile-edit",(function(e){ee.loading(!0),ae.updateUserInfo(e).then((function(e){ie.setUserInfo(e),ee.close()})).catch((function(e){console.log(e)})).finally((function(){ee.loading(!1,"Сохранить")}))}));ee.setEventListeners();var te=new P(".popup_data_avatar",(function(e){te.loading(!0),ae.updateUserAvatar(e).then((function(e){ie.setUserAvatar(e),te.close()})).catch((function(e){console.log(e)})).finally((function(){te.loading(!1,"Обновить")}))}));te.setEventListeners();var re=new w(".popup_data_image-add");re.setEventListeners();var ne=new P(".popup_data_card-add",(function(e){popupCard.loading(!0),ae.addNewCard(e).then((function(e){var t=ue(e);Z.addItem(t),ne.close()})).catch((function(e){console.log(e)})).finally((function(){ne.loading(!1,"Создать")}))}));ne.setEventListeners();var oe=new PopupWithConfirm(".popup_data_delete",(function(e){oe.loadingConfirm(!0),ae.deleteCard(e.getCardId()).then((function(){e.deleteCard(),oe.close()})).catch((function(e){console.log(e)})).finally((function(){oe.loadingConfirm(!1)}))})),ie=new T({nameSelector:".profile__name",infoSelector:".profile__description",profileAvatar:".profile__avatar"}),ae=new x({url:"https://mesto.nomoreparties.co/v1/cohort-62",headers:{"Content-Type":"application/json",authorization:"94c5f97f-b8cd-4838-8c4c-bf26058ba6d0"}});Promise.all([ae.getUserInfo(),ae.getAllCards()]).then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,r)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];userId=o._id,ie.setUserInfo(o),ie.setUserAvatar(o),Z.renderItems(i)})).catch((function(e){console.log(e)}));var ue=function(e){var t=new n({Card:e,userId,handleCardClick:function(e,t){re.open(e,t)},handleLikeClick:function(){t.isLike()?ae.deleteLike(t.getCardId()).then((function(e){t.likeCard(e.like.length)})).catch((function(e){console.log(e)})):ae.setLike(t.getCardId()).then((function(e){t.likeCard(e.like.length)})).catch((function(e){console.log(e)}))},handleDeleteCard:function(){oe.open(t)}},".gallery-template");return t.generateCard()};U.addEventListener("click",(function(){ee.open();var e=ie.getUserInfo();K.value=e.name,H.value=e.about,X.resetValid()})),$.addEventListener("click",(function(){ne.open(),Q.resetValid()})),N.addEventListener("click",(function(){Y.resetValid(),te.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQU1NLEVBQU9sQyxHQUFTdUIsY0FDdEJwRSxFQUFVMUcsTUFBUXlMLEVBQUtoTixLQUN2QmtJLEVBQVczRyxNQUFReUwsRUFBS2pGLE1BQ3hCc0MsRUFBaUI0QyxZQUNuQixJQUVBakQsRUFBY25ILGlCQUFpQixTQUFTLFdBQ3RDNEksR0FBV2lCLE9BQ1h2QyxFQUFjOEMsWUFDaEIsSUFFQXhELEVBQW1CNUcsaUJBQWlCLFNBQVMsV0FDM0N5SCxFQUFnQjJDLGFBQ2hCdkQsR0FBWWdELE1BQ2QsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnN0LmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoeyBDYXJkLCB1c2VySWQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVDYXJkIH0sXHJcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9DYXJkID0gQ2FyZDtcclxuICAgIHRoaXMuX25hbWUgPSBDYXJkLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gQ2FyZC5saW5rO1xyXG4gICAgdGhpcy5fY2FyZElkID0gQ2FyZC5faWQ7XHJcbiAgICB0aGlzLl9saWtlID0gQ2FyZC5saWtlO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faXNPd25lciA9IENhcmQub3duZXIuX2lkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2J1dHRvbi1kZWxldGUnKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fYnV0dG9uLWxpa2UnKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3RpdGxlJyk7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2xpa2UtbnVtYmVyXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2VsZW1lbnRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY291bnQpIHtcclxuICAgIHRoaXMuX2xpa2UgPSB0aGlzLl9DYXJkLmxpa2U7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gY291bnQ7XHJcbiAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZ2FsbGVyeV9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgaXNMaWtlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlfX2J1dHRvbi1saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHNob3dMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICBpZiAoZWwuX2lkID09PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeV9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhpZGRlblRyYXNoKCkge1xyXG4gICAgdGhpcy5pc015Q2FyZCA9IHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5faXNPd25lcjtcclxuICAgIGlmICghdGhpcy5pc015Q2FyZCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVDYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJnYWxsZXJ5X19idXR0b24tZGVsZXRlX2hpZGRlblwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZElkO1xyXG4gIH1cclxuXHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZS5sZW5ndGg7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5oaWRkZW5UcmFzaCgpO1xyXG4gICAgdGhpcy5zaG93TGlrZSgpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdnYWxsZXJ5X19idXR0b24tbGlrZV9hY3RpdmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGxpc3RTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2xpc3RTZWxlY3RvciA9IGxpc3RTZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9saXN0U2VsZWN0b3IuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fbGlzdFNlbGVjdG9yLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fbGlzdFNlbGVjdG9yLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9saXN0U2VsZWN0b3IuZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fbGlzdFNlbGVjdG9yLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9saXN0U2VsZWN0b3IuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fbGlzdFNlbGVjdG9yLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fbGlzdFNlbGVjdG9yLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH07XHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWludGVyU2VsZWN0b3IgKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbnRlclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwUHJvZmlsZUNsb3NlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLWNsb3NlXCIpO1xyXG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUtleSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUtleSk7XHJcblxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY2FwZUtleSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VCeU92ZXJsYXkgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBQcm9maWxlQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VCeU92ZXJsYXkpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VtYml0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1bWJpdCA9IGhhbmRsZVN1bWJpdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pbnB1dFwiKSk7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tc2F2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIGxvYWRpbmcoaXNMb2FkaW5nLCBjb250ZW50KSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdW1iaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBwcm9maWxlQXZhdGFyIH0pIHtcclxuICAgICAgdGhpcy51c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgdGhpcy51c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLnByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXIpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBzZXRVc2VyQXZhdGFyKHsgcHJvZmlsZUF2YXRhciB9KSB7XHJcbiAgICAgICAgdGhpcy5wcm9maWxlQXZhdGFyLnNyYyA9IHByb2ZpbGVBdmF0YXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBuYW1lOiB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgYWJvdXQ6IHRoaXMudXNlckFib3V0LnRleHRDb250ZW50LFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHNldFVzZXJJbmZvKHtpbnB1dE5hbWUsIGlucHV0QWJvdXR9KSB7XHJcbiAgICAgICAgdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCA9IGlucHV0TmFtZTtcclxuICAgICAgICB0aGlzLnVzZXJBYm91dC50ZXh0Q29udGVudCA9IGlucHV0QWJvdXQ7XHJcbiAgICAgIH1cclxuICAgIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoYXBpUGFyYW1ldGVycykge1xyXG4gICAgICB0aGlzLl91cmwgPSBhcGlQYXJhbWV0ZXJzLnVybDtcclxuICAgICAgdGhpcy5faGVhZGVycyA9IGFwaVBhcmFtZXRlcnMuaGVhZGVycztcclxuICAgIH1cclxuICBcclxuICAgIF9oYW5kbGVSZXBseShyZXMpIHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSkudGhlbihcclxuICAgICAgICB0aGlzLl9oYW5kbGVSZXBseVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0QWxsQ2FyZHMoKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pLnRoZW4oXHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmVwbHlcclxuICAgICAgKTtcclxuICAgIH1cclxuICBcclxuICAgIHVwZGF0ZVVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuYWJvdXQgfSksXHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KTtcclxuICAgIH1cclxuICBcclxuICAgIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgc2V0TGlrZShpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXBseSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkZWxldGVMaWtlKGlkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KTtcclxuICAgIH1cclxuICBcclxuICAgIHVwZGF0ZVVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXBseSk7XHJcbiAgICB9XHJcbiAgfSIsImV4cG9ydCBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVfX2J1dHRvbiA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZV9CdXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2RhdGFfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW5wdXQgPSBwb3B1cEF2YXRhci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tYXZhdGFyXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kYXRhX3Byb2ZpbGUtZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlQ2xvc2UgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FZGl0UHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcjcG9wdXBfX2Zvcm0tcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF9kYXRhX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QWJvdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfYWJvdXQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZGF0YV9jYXJkLWFkZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXJkQ2xvc2UgPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWUgPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0SW1hZ2UgPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfbGluaycpO1xyXG5leHBvcnQgY29uc3QgY2FyZEZvcm0gPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcignI3BvcHVwX19mb3JtLWNhcmQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kYXRhX2ltYWdlLWFkZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXJkSW1hZ2VDbG9zZSA9IHBvcHVwQ2FyZEltYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkQ2FyZCcpO1xyXG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgYXBpUGFyYW1ldGVycyA9IHtcclxuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYyXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjk0YzVmOTdmLWI4Y2QtNDgzOC04YzRjLWJmMjYwNThiYTZkMFwiLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9fZm9ybS1pbnB1dCcsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uLXNhdmUnLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b24tc2F2ZV9pbmFjdGl2ZScsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pbnB1dF9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScsXHJcbn07IiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IGluaXRpYWxDYXJkcyBmcm9tIFwiLi4vdXRpbHMvY2FyZHNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBwcm9maWxlX19idXR0b24sXHJcbiAgcHJvZmlsZV9CdXR0b25FZGl0LFxyXG4gIGZvcm1FZGl0UHJvZmlsZSxcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRBYm91dCxcclxuICBjYXJkRm9ybSxcclxuICBidXR0b25BZGRDYXJkLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgYXBpUGFyYW1ldGVycyxcclxuICBhdmF0YXJGb3JtXHJcbn1cclxuICBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnN0LmpzXCI7XHJcblxyXG5jb25zdCBjYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY2FyZEZvcm0sIHZhbGlkYXRpb25Db25maWcpO1xyXG5jYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWRpdFByb2ZpbGUsIHZhbGlkYXRpb25Db25maWcpO1xyXG5wcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGF2YXRhckZvcm0sIHZhbGlkYXRpb25Db25maWcpO1xyXG5hdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGl0ZW0pID0+IHsgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpOyB9LFxyXG59LCBcIi5nYWxsZXJ5XCIpO1xyXG5cclxuLy9jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9kYXRhX3Byb2ZpbGUtZWRpdFwiLCBzdWJtaXRFZGl0UHJvZmlsZUZvcm0pO1xyXG4vL3BvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZGF0YV9wcm9maWxlLWVkaXRcIiwgKHVzZXJEYXRhKSA9PiB7XHJcbiAgcG9wdXBQcm9maWxlLmxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8odXNlckRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cFByb2ZpbGUubG9hZGluZyhmYWxzZSwgXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgICB9KTtcclxufSk7XHJcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9kYXRhX2F2YXRhclwiLCAodXNlckRhdGEpID0+IHtcclxuICBwb3B1cEF2YXRhci5sb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVVzZXJBdmF0YXIodXNlckRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzKTtcclxuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBBdmF0YXIubG9hZGluZyhmYWxzZSwgXCLQntCx0L3QvtCy0LjRgtGMXCIpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfZGF0YV9pbWFnZS1hZGRcIik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL2NvbnN0IHBvcHVwQ2FyZHMgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9kYXRhX2NhcmQtYWRkXCIsIGhhbmRsZUNhcmRGb3JtU3VibWl0KTtcclxuLy9wb3B1cENhcmRzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cENhcmRzID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZGF0YV9jYXJkLWFkZFwiLCAoY2FyZERhdGEpID0+IHtcclxuICBwb3B1cENhcmQubG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgcG9wdXBDYXJkcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cENhcmRzLmxvYWRpbmcoZmFsc2UsIFwi0KHQvtC30LTQsNGC0YxcIik7XHJcbiAgICB9KTtcclxufSk7XHJcbnBvcHVwQ2FyZHMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwQ2FyZERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKFwiLnBvcHVwX2RhdGFfZGVsZXRlXCIsIChjYXJkKSA9PiB7XHJcbiAgcG9wdXBDYXJkRGVsZXRlLmxvYWRpbmdDb25maXJtKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRDYXJkSWQoKSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XHJcbiAgICAgIHBvcHVwQ2FyZERlbGV0ZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cENhcmREZWxldGUubG9hZGluZ0NvbmZpcm0oZmFsc2UpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGluZm9TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBwcm9maWxlQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG4vL2NvbnN0IGhhbmRsZUNhcmRDbGljayA9IChuYW1lLCBsaW5rKSA9PiB7XHJcbi8vIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbi8vfVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlQYXJhbWV0ZXJzKTtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEFsbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRJdGVtc10pID0+IHtcclxuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIodXNlckRhdGEpO1xyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkSXRlbXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZE5ldyA9IG5ldyBDYXJkKFxyXG4gICAgICB7XHJcbiAgICAgICAgQ2FyZDogaXRlbSxcclxuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoY2FyZE5ldy5pc0xpa2UoKSkge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAuZGVsZXRlTGlrZShjYXJkTmV3LmdldENhcmRJZCgpKVxyXG4gICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmROZXcubGlrZUNhcmQocmVzLmxpa2UubGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgICAgLnNldExpa2UoY2FyZE5ldy5nZXRDYXJkSWQoKSlcclxuICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYXJkTmV3Lmxpa2VDYXJkKHJlcy5saWtlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhbmRsZURlbGV0ZUNhcmQ6ICgpID0+IHtcclxuICAgICAgICAgIHBvcHVwQ2FyZERlbGV0ZS5vcGVuKGNhcmROZXcpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIFwiLmdhbGxlcnktdGVtcGxhdGVcIlxyXG4gICAgKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmROZXcuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbnByb2ZpbGVfX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IGluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0TmFtZS52YWx1ZSA9IGluZm8ubmFtZTtcclxuICBpbnB1dEFib3V0LnZhbHVlID0gaW5mby5hYm91dDtcclxuICBwcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWQoKTtcclxufSk7XHJcblxyXG5idXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwQ2FyZHMub3BlbigpO1xyXG4gIGNhcmRWYWxpZGF0b3IucmVzZXRWYWxpZCgpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVfQnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlkKCk7XHJcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG59KTtcclxuXHJcbi8vZnVuY3Rpb24gc3VibWl0RWRpdFByb2ZpbGVGb3JtKGRhdGEpIHtcclxuIC8vIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4vL31cclxuXHJcbi8vZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkKSB7XHJcbiAvLyBjb25zdCBjYXJkTmV3ID0gbmV3IENhcmQoY2FyZCwgJy5nYWxsZXJ5LXRlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrKTtcclxuIC8vIHJldHVybiBjYXJkTmV3LmdlbmVyYXRlQ2FyZCgpO1xyXG4vL31cclxuXHJcbi8vZnVuY3Rpb24gaGFuZGxlQ2FyZEZvcm1TdWJtaXQoY2FyZE5ldykge1xyXG4gLy8gc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZE5ldykpO1xyXG4vL31cclxuXHJcbi8vc2VjdGlvbi5yZW5kZXJJdGVtcygpOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIkNhcmQiLCJfcmVmIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX0NhcmQiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZElkIiwiX2lkIiwiX2xpa2UiLCJsaWtlIiwiX3VzZXJJZCIsIl9pc093bmVyIiwib3duZXIiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9kZWxldGVDYXJkIiwicXVlcnlTZWxlY3RvciIsIl9jYXJkTGlrZSIsIl9jYXJkSW1hZ2UiLCJfY2FyZE5hbWUiLCJfbGlrZU51bWJlciIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY291bnQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwiX3RoaXMiLCJmb3JFYWNoIiwiZWwiLCJhZGQiLCJpc015Q2FyZCIsInJlbW92ZSIsImFsdCIsInNyYyIsImxlbmd0aCIsIl9zZXRFdmVudExpc3RlbmVycyIsImhpZGRlblRyYXNoIiwic2hvd0xpa2UiLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsIl9jcmVhdGVDbGFzcyIsImZvcm1FbGVtZW50IiwibGlzdFNlbGVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiY29uY2F0IiwiaWQiLCJfbGlzdFNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaW5wdXRMaXN0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiU2VjdGlvbiIsImNvbnRhaW50ZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsInByZXBlbmQiLCJyZXZlcnNlIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJfcG9wdXAiLCJfcG9wdXBQcm9maWxlQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUVzY2FwZUtleSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfY2xvc2VCeU92ZXJsYXkiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cENhcHRpb24iLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1bWJpdCIsIl9oYW5kbGVTdW1iaXQiLCJfYnV0dG9uIiwiZm9ybVZhbHVlcyIsImlucHV0IiwicmVzZXQiLCJpc0xvYWRpbmciLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsInByb2ZpbGVBdmF0YXIiLCJ1c2VyTmFtZSIsInVzZXJBYm91dCIsIl9yZWYyIiwiYWJvdXQiLCJfcmVmMyIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJBcGkiLCJhcGlQYXJhbWV0ZXJzIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfaGFuZGxlUmVwbHkiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkRGF0YSIsInByb2ZpbGVfX2J1dHRvbiIsInByb2ZpbGVfQnV0dG9uRWRpdCIsInBvcHVwQXZhdGFyIiwiYXZhdGFyRm9ybSIsInBvcHVwUHJvZmlsZSIsImZvcm1FZGl0UHJvZmlsZSIsInBvcHVwQ2FyZCIsImNhcmRGb3JtIiwiYnV0dG9uQWRkQ2FyZCIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJjYXJkVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVWYWxpZGF0b3IiLCJhdmF0YXJWYWxpZGF0b3IiLCJzZWN0aW9uIiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJ1c2VyRGF0YSIsImxvYWRpbmciLCJhcGkiLCJ1cGRhdGVVc2VySW5mbyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVVc2VyQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBDYXJkcyIsImFkZE5ld0NhcmQiLCJjYXJkRWxlbWVudCIsInBvcHVwQ2FyZERlbGV0ZSIsIlBvcHVwV2l0aENvbmZpcm0iLCJjYXJkIiwibG9hZGluZ0NvbmZpcm0iLCJkZWxldGVDYXJkIiwiZ2V0Q2FyZElkIiwiaW5mb1NlbGVjdG9yIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0QWxsQ2FyZHMiLCJjYXJkSXRlbXMiLCJyZW5kZXJJdGVtcyIsImNhcmROZXciLCJvcGVuIiwiaXNMaWtlIiwiZGVsZXRlTGlrZSIsImxpa2VDYXJkIiwic2V0TGlrZSIsImdlbmVyYXRlQ2FyZCIsImluZm8iLCJyZXNldFZhbGlkIl0sInNvdXJjZVJvb3QiOiIifQ==
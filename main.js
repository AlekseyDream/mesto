(()=>{"use strict";var e=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={};e(t);var r={};e(r);var n={};e(n);var o={};e(o);var i={};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}e(i);var c=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._container=document.querySelector(r)}return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){t._renderer(e)}))}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e;var t,r}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===d(o)?o:String(o)),n)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,r,n,o,i=(t=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=v(t);if(r){var o=v(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._form=r._popup.querySelector(".popup__form"),r._button=r._form.querySelector(".popup__button-save"),r._handleDeleteFormSubmit=t,r._cardInfo={},r}return n=a,(o=[{key:"open",value:function(e){h(v(a.prototype),"open",this).call(this),this._cardInfo=e}},{key:"loadingConfirm",value:function(e){this._button.textContent=e?"Удаление...":"Да"}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleDeleteFormSubmit(e._cardInfo)})),h(v(a.prototype),"setEventListeners",this).call(this)}}])&&y(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_handleEscapeKey",(function(e){"Escape"===e.key&&r.close()})),s(this,"_closeByOverlay",(function(e){e.target.classList.contains("popup")&&r.close()})),this._popup=document.querySelector(t),this._popupProfileClose=this._popup.querySelector(".popup__button-close"),this.close=this.close.bind(this)}return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscapeKey)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscapeKey)}},{key:"setEventListeners",value:function(){this._popupProfileClose.addEventListener("click",this.close),this._popup.addEventListener("click",this._closeByOverlay)}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e;var t,r}());function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}var g,w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}return t=e,(r=[{key:"_handleReply",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._handleReply)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._handleReply)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleReply)}},{key:"addNewCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleReply)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"setLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._handleReply)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._handleReply)}},{key:"updateUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)}).then(this._handleReply)}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e;var t,r}(),k=document.querySelector(".content"),E=k.querySelector(".profile__button"),P=document.querySelector(".profile__button-edit"),j=(k.querySelector(".profile__name"),k.querySelector(".profile__description"),document.querySelector(".profile__avatar"),document.querySelector(".popup_data_avatar")),O=(j.querySelector(".popup__form-input_data_avatar"),j.querySelector(".popup__form-avatar")),C=document.querySelector(".popup_data_profile-edit"),q=(C.querySelector(".popup__button-close"),C.querySelector("#popup__form-profile")),L=C.querySelector(".popup__form-input_data_name"),I=C.querySelector(".popup__form-input_data_about"),T=document.querySelector(".popup_data_card-add"),R=(T.querySelector(".popup__button-close"),T.querySelector(".popup__form-input_data_title"),T.querySelector(".popup__form-input_data_link"),T.querySelector("#popup__form-card")),A=(document.querySelector(".popup_data_image-add").querySelector(".popup__button-close"),document.querySelector(".profile__button-addCard")),U=(document.querySelector(".gallery"),document.querySelector(".popup__image"),document.querySelector(".popup__caption"),{formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button-save_inactive",inputErrorClass:"popup__form-input_error",errorClass:"popup__input-error_active"});function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=new r.FormValidator(R,U);D.enableValidation();var F=new r.FormValidator(q,U);F.enableValidation();var B=new r.FormValidator(O,U);B.enableValidation();var N=new c({renderer:function(e){N.addItem($(e))}},".gallery"),x=new o.PopupWithForm(".popup_data_profile-edit",(function(e){x.loading(!0),z.updateUserInfo(e).then((function(e){H.setUserInfo(e),x.close()})).catch((function(e){console.log(e)})).finally((function(){x.loading(!1,"Сохранить")}))}));x.setEventListeners();var W=new o.PopupWithForm(".popup_data_avatar",(function(e){W.loading(!0),z.updateUserAvatar(e).then((function(e){H.setUserAvatar(e),W.close()})).catch((function(e){console.log(e)})).finally((function(){W.loading(!1,"Обновить")}))}));W.setEventListeners();var J=new n.PopupWithImage(".popup_data_image-add");J.setEventListeners();var K=new o.PopupWithForm(".popup_data_card-add",(function(e){K.loading(!0),z.addNewCard(e).then((function(e){var t=$(e);N.addItem(t),K.close()})).catch((function(e){console.log(e)})).finally((function(){K.loading(!1,"Создать")}))}));K.setEventListeners();var M=new m(".popup_data_delete",(function(e){M.loadingConfirm(!0),z.deleteCard(e.getCardId()).then((function(){e.deleteCard(),M.close()})).catch((function(e){console.log(e)})).finally((function(){M.loadingConfirm(!1)}))}));M.setEventListeners();var H=new i.UserInfo({nameSelector:".profile__name",aboutSelector:".profile__description",profileAvatar:".profile__avatar"}),z=new w({url:"https://mesto.nomoreparties.co/v1/cohort-62",headers:{"Content-Type":"application/json",authorization:"94c5f97f-b8cd-4838-8c4c-bf26058ba6d0"}});Promise.all([z.getUserInfo(),z.getAllCards()]).then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,r)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];g=o._id,H.setUserInfo(o),H.setUserAvatar(o),N.renderItems(i)})).catch((function(e){console.log(e)}));var $=function(e){var r=new t.Card({data:e,userId:g,handleCardClick:function(e,t){J.open(e,t)},handleLikeClick:function(){r.isLike()?z.deleteLike(r.getCardId()).then((function(e){r.likeCard(e.likes.length)})).catch((function(e){console.log(e)})):z.setLike(r.getCardId()).then((function(e){r.likeCard(e.likes.length)})).catch((function(e){console.log(e)}))},handleDeleteCard:function(){M.open(r)}},".gallery-template");return r.generateCard()};E.addEventListener("click",(function(){x.open();var e=H.getUserInfo();L.value=e.name,I.value=e.about,F.resetValid()})),A.addEventListener("click",(function(){K.open(),D.resetValid()})),P.addEventListener("click",(function(){B.resetValid(),W.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUNBcUJDLElBQ0gsb0JBQVhDLFFBQTBCQSxPQUFPQyxhQUMxQ0MsT0FBT0MsZUFBZUosRUFBU0MsT0FBT0MsWUFBYSxDQUFFRyxNQUFPLFdBRTdERixPQUFPQyxlQUFlSixFQUFTLGFBQWMsQ0FBRUssT0FBTyxHQUFPLEUseXVCQ0x6Q0MsRUFBTyxXQUMxQixTQUFBQSxFQUFBQyxFQUEwQkMsR0FBbUIsSUFBL0JDLEVBQVFGLEVBQVJFLFUsNEZBQVFDLENBQUEsS0FBQUosR0FDcEJLLEtBQUtDLFVBQVlILEVBQ2pCRSxLQUFLRSxXQUFhQyxTQUFTQyxjQUFjUCxFQUMzQyxDQVVDLE8sRUFWQUYsRyxFQUFBLEVBQUFVLElBQUEsVUFBQVgsTUFFRCxTQUFRWSxHQUNOTixLQUFLRSxXQUFXSyxRQUFRRCxFQUMxQixHQUFDLENBQUFELElBQUEsY0FBQVgsTUFFRCxTQUFZYyxHQUFPLElBQUFDLEVBQUEsS0FDakJELEVBQU1FLFVBQVVDLFNBQVEsU0FBQ0wsR0FDdkJHLEVBQUtSLFVBQVVLLEVBQ2pCLEdBQ0YsTSxvRUFBQ1gsRSxPQUFBLENBZHlCLEcsK2hFQ0FHLElBRVZpQixFQUFXLFNBQUFDLEkscVJBQUFDLENBQUFGLEVBQUFDLEdBQUEsSSxRQUFBRSxHLEVBQUFILEUscXJCQUM5QixTQUFBQSxFQUFZSSxFQUFjQyxHQUF3QixJQUFBUixFQUs1QixPLDRGQUw0QlYsQ0FBQSxLQUFBYSxJQUNoREgsRUFBQU0sRUFBQUcsS0FBQSxLQUFNRixJQUNERyxNQUFRVixFQUFLVyxPQUFPaEIsY0FBYyxnQkFDdkNLLEVBQUtZLFFBQVVaLEVBQUtVLE1BQU1mLGNBQWMsdUJBQ3hDSyxFQUFLYSx3QkFBMEJMLEVBQy9CUixFQUFLYyxVQUFZLENBQUMsRUFBRWQsQ0FDdEIsQ0FzQkMsTyxFQXRCQUcsRyxFQUFBLEVBQUFQLElBQUEsT0FBQVgsTUFFRCxTQUFLOEIsR0FDSEMsRUFBQUMsRUFBQWQsRUFBQWUsV0FBQSxhQUFBVCxLQUFBLE1BQ0FsQixLQUFLdUIsVUFBWUMsQ0FDbkIsR0FBQyxDQUFBbkIsSUFBQSxpQkFBQVgsTUFFRCxTQUFla0MsR0FFWDVCLEtBQUtxQixRQUFRUSxZQURYRCxFQUN5QixjQUVBLElBRS9CLEdBQUMsQ0FBQXZCLElBQUEsb0JBQUFYLE1BRUQsV0FBb0IsSUFBQW9DLEVBQUEsS0FDbEI5QixLQUFLbUIsTUFBTVksaUJBQWlCLFVBQVUsU0FBQ0MsR0FDckNBLEVBQUlDLGlCQUNKSCxFQUFLUix3QkFBd0JRLEVBQUtQLFVBQ3BDLElBRUFFLEVBQUFDLEVBQUFkLEVBQUFlLFdBQUEsMEJBQUFULEtBQUEsS0FDRixNLG9FQUFDTixDQUFBLENBN0I2QixDQ0ZOLFdBQ3hCLFNBQUFzQixFQUFZQyxHQUFlLElBQUExQixFQUFBLE0sNEZBQUFWLENBQUEsS0FBQW1DLEdBQUFFLEVBQUEseUJBa0JSLFNBQUNKLEdBQ0YsV0FBWkEsRUFBSTNCLEtBQWtCSSxFQUFLNEIsT0FDakMsSUFBQ0QsRUFBQSx3QkFFaUIsU0FBQ0osR0FDYkEsRUFBSU0sT0FBT0MsVUFBVUMsU0FBUyxVQUFVL0IsRUFBSzRCLE9BQ25ELElBdkJFckMsS0FBS29CLE9BQVNqQixTQUFTQyxjQUFjK0IsR0FDckNuQyxLQUFLeUMsbUJBQXFCekMsS0FBS29CLE9BQU9oQixjQUFjLHdCQUNwREosS0FBS3FDLE1BQVFyQyxLQUFLcUMsTUFBTUssS0FBSzFDLEtBQy9CLENBMEJDLE8sRUExQkFrQyxHLEVBQUEsRUFBQTdCLElBQUEsT0FBQVgsTUFFRCxXQUNFTSxLQUFLb0IsT0FBT21CLFVBQVVJLElBQUksZ0JBQzFCeEMsU0FBUzRCLGlCQUFpQixRQUFTL0IsS0FBSzRDLGlCQUMxQyxHQUFDLENBQUF2QyxJQUFBLFFBQUFYLE1BR0QsV0FDRU0sS0FBS29CLE9BQU9tQixVQUFVTSxPQUFPLGdCQUM3QjFDLFNBQVMyQyxvQkFBb0IsUUFBUzlDLEtBQUs0QyxpQkFFN0MsR0FBQyxDQUFBdkMsSUFBQSxvQkFBQVgsTUFXRCxXQUNFTSxLQUFLeUMsbUJBQW1CVixpQkFBaUIsUUFBUy9CLEtBQUtxQyxPQUN2RHJDLEtBQUtvQixPQUFPVyxpQkFBaUIsUUFBUy9CLEtBQUsrQyxnQkFDN0MsTSxvRUFBQ2IsRSxPQUFBLENBL0J1QixJLHVxQkN3QnRCYyxFQ3hCaUJDLEVBQUcsV0FDcEIsU0FBQUEsRUFBWUMsSSw0RkFBZW5ELENBQUEsS0FBQWtELEdBQ3pCakQsS0FBS21ELEtBQU9ELEVBQWNFLElBQzFCcEQsS0FBS3FELFNBQVdILEVBQWNJLE9BQ2hDLENBd0VDLE8sRUF4RUFMLEcsRUFBQSxFQUFBNUMsSUFBQSxlQUFBWCxNQUVELFNBQWE2RCxHQUNYLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQU8sV0FBREMsT0FBWUwsRUFBSU0sUUFDdkMsR0FBQyxDQUFBeEQsSUFBQSxjQUFBWCxNQUVELFdBQ0UsT0FBT29FLE1BQU0sR0FBREYsT0FBSTVELEtBQUttRCxLQUFJLGFBQWEsQ0FBRUcsUUFBU3RELEtBQUtxRCxXQUNyRFUsS0FDQy9ELEtBQUtnRSxhQUVULEdBQUMsQ0FBQTNELElBQUEsY0FBQVgsTUFFRCxXQUNFLE9BQU9vRSxNQUFNLEdBQURGLE9BQUk1RCxLQUFLbUQsS0FBSSxVQUFVLENBQUVHLFFBQVN0RCxLQUFLcUQsV0FDbERVLEtBQ0MvRCxLQUFLZ0UsYUFFVCxHQUFDLENBQUEzRCxJQUFBLGlCQUFBWCxNQUVELFNBQWV1RSxHQUNiLE9BQU9ILE1BQU0sR0FBREYsT0FBSTVELEtBQUttRCxLQUFJLGFBQWEsQ0FDcENlLE9BQVEsUUFDUlosUUFBU3RELEtBQUtxRCxTQUNkYyxLQUFNQyxLQUFLQyxVQUFVLENBQUVDLEtBQU1MLEVBQUtLLEtBQU1DLE1BQU9OLEVBQUtNLFVBRXJEUixLQUFLL0QsS0FBS2dFLGFBQ2IsR0FBQyxDQUFBM0QsSUFBQSxhQUFBWCxNQUVELFNBQVc4RSxHQUNULE9BQU9WLE1BQU0sR0FBREYsT0FBSTVELEtBQUttRCxLQUFJLFVBQVUsQ0FDakNlLE9BQVEsT0FDUlosUUFBU3RELEtBQUtxRCxTQUNkYyxLQUFNQyxLQUFLQyxVQUFVRyxLQUV0QlQsS0FBSy9ELEtBQUtnRSxhQUNiLEdBQUMsQ0FBQTNELElBQUEsYUFBQVgsTUFFRCxTQUFXK0UsR0FDVCxPQUFPWCxNQUFNLEdBQURGLE9BQUk1RCxLQUFLbUQsS0FBSSxXQUFBUyxPQUFVYSxHQUFNLENBQ3ZDUCxPQUFRLFNBQ1JaLFFBQVN0RCxLQUFLcUQsV0FFZlUsS0FBSy9ELEtBQUtnRSxhQUNiLEdBQUMsQ0FBQTNELElBQUEsVUFBQVgsTUFFRCxTQUFRK0UsR0FDTixPQUFPWCxNQUFNLEdBQURGLE9BQUk1RCxLQUFLbUQsS0FBSSxXQUFBUyxPQUFVYSxFQUFFLFVBQVUsQ0FDN0NQLE9BQVEsTUFDUlosUUFBU3RELEtBQUtxRCxXQUVmVSxLQUFLL0QsS0FBS2dFLGFBQ2IsR0FBQyxDQUFBM0QsSUFBQSxhQUFBWCxNQUVELFNBQVcrRSxHQUNULE9BQU9YLE1BQU0sR0FBREYsT0FBSTVELEtBQUttRCxLQUFJLFdBQUFTLE9BQVVhLEVBQUUsVUFBVSxDQUM3Q1AsT0FBUSxTQUNSWixRQUFTdEQsS0FBS3FELFdBRWZVLEtBQUsvRCxLQUFLZ0UsYUFDYixHQUFDLENBQUEzRCxJQUFBLG1CQUFBWCxNQUVELFNBQWlCdUUsR0FDZixPQUFPSCxNQUFNLEdBQURGLE9BQUk1RCxLQUFLbUQsS0FBSSxvQkFBb0IsQ0FDM0NHLFFBQVN0RCxLQUFLcUQsU0FDZGEsT0FBUSxRQUNSQyxLQUFNQyxLQUFLQyxVQUFVSixLQUV0QkYsS0FBSy9ELEtBQUtnRSxhQUNiLE0sb0VBQUNmLEUsT0FBQSxDQTVFbUIsR0NBWHlCLEVBQVV2RSxTQUFTQyxjQUFjLFlBQ2pDdUUsRUFBZ0JELEVBQVF0RSxjQUFjLG9CQUN0Q3dFLEVBQW9CekUsU0FBU0MsY0FBYyx5QkFLM0N5RSxHQUpjSCxFQUFRdEUsY0FBYyxrQkFDZnNFLEVBQVF0RSxjQUFjLHlCQUUzQkQsU0FBU0MsY0FBYyxvQkFDekJELFNBQVNDLGNBQWMsdUJBRXJDMEUsR0FEY0QsRUFBWXpFLGNBQWMsa0NBQzNCeUUsRUFBWXpFLGNBQWMsd0JBRXZDMkUsRUFBZTVFLFNBQVNDLGNBQWMsNEJBRXRDNEUsR0FEb0JELEVBQWEzRSxjQUFjLHdCQUM3QjJFLEVBQWEzRSxjQUFjLHlCQUM3QzZFLEVBQVlGLEVBQWEzRSxjQUFjLGdDQUN2QzhFLEVBQWFILEVBQWEzRSxjQUFjLGlDQUV4QytFLEVBQWFoRixTQUFTQyxjQUFjLHdCQUlwQ2dGLEdBSGtCRCxFQUFXL0UsY0FBYyx3QkFDcEMrRSxFQUFXL0UsY0FBYyxpQ0FDbkIrRSxFQUFXL0UsY0FBYyxnQ0FDM0IrRSxFQUFXL0UsY0FBYyxzQkFLcENpRixHQUhrQmxGLFNBQVNDLGNBQWMseUJBQ0ZBLGNBQWMsd0JBRXJDRCxTQUFTQyxjQUFjLDZCQWF2Q2tGLEdBWmdCbkYsU0FBU0MsY0FBYyxZQUMxQkQsU0FBU0MsY0FBYyxpQkFDckJELFNBQVNDLGNBQWMsbUJBVW5CLENBQzVCbUYsYUFBYyxlQUNkQyxjQUFlLHFCQUNmQyxxQkFBc0Isc0JBQ3RCQyxvQkFBcUIsOEJBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLDhCLDBHRm5CaEIsSUFBTUMsRUFBZ0IsSUFBSUMsRUFBQUEsY0FBY1YsRUFBVUUsR0FDbERPLEVBQWNFLG1CQUVkLElBQU1DLEVBQW1CLElBQUlGLEVBQUFBLGNBQWNkLEVBQWlCTSxHQUM1RFUsRUFBaUJELG1CQUVqQixJQUFNRSxFQUFrQixJQUFJSCxFQUFBQSxjQUFjaEIsRUFBWVEsR0FDdERXLEVBQWdCRixtQkFFaEIsSUFBTUcsRUFBVSxJQUFJdkcsRUFBUSxDQUMxQkcsU0FBVSxTQUFDUSxHQUNUNEYsRUFBUUMsUUFBUUMsRUFBVzlGLEdBQzdCLEdBRUEsWUFFSXlFLEVBQWUsSUFBSXNCLEVBQUFBLGNBQWMsNEJBQTRCLFNBQUNDLEdBQ2xFdkIsRUFBYXdCLFNBQVEsR0FDckJDLEVBQ0dDLGVBQWVILEdBQ2Z2QyxNQUFLLFNBQUNSLEdBQ0xtRCxFQUFTQyxZQUFZcEQsR0FDckJ3QixFQUFhMUMsT0FDZixJQUNDdUUsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLElBQ0NHLFNBQVEsV0FDUGpDLEVBQWF3QixTQUFRLEVBQU8sWUFDOUIsR0FDSixJQUNBeEIsRUFBYWtDLG9CQUViLElBQU1wQyxFQUFjLElBQUl3QixFQUFBQSxjQUFjLHNCQUFzQixTQUFDQyxHQUMzRHpCLEVBQVkwQixTQUFRLEdBQ3BCQyxFQUNHVSxpQkFBaUJaLEdBQ2pCdkMsTUFBSyxTQUFDUixHQUNMbUQsRUFBU1MsY0FBYzVELEdBQ3ZCc0IsRUFBWXhDLE9BQ2QsSUFDQ3VFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxJQUNDRyxTQUFRLFdBQ1BuQyxFQUFZMEIsU0FBUSxFQUFPLFdBQzdCLEdBQ0osSUFDQTFCLEVBQVlvQyxvQkFFWixJQUFNRyxFQUFpQixJQUFJQyxFQUFBQSxlQUFlLHlCQUMxQ0QsRUFBZUgsb0JBRWYsSUFBTTlCLEVBQWEsSUFBSWtCLEVBQUFBLGNBQWMsd0JBQXdCLFNBQUM3QixHQUM1RFcsRUFBV29CLFNBQVEsR0FDbkJDLEVBQ0djLFdBQVc5QyxHQUNYVCxNQUFLLFNBQUNSLEdBQ0wsSUFBTWdFLEVBQWNuQixFQUFXN0MsR0FDL0IyQyxFQUFRQyxRQUFRb0IsR0FDaEJwQyxFQUFXOUMsT0FDYixJQUNDdUUsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLElBQ0NHLFNBQVEsV0FDUDdCLEVBQVdvQixTQUFRLEVBQU8sVUFDNUIsR0FDSixJQUNBcEIsRUFBVzhCLG9CQUVYLElBQU1PLEVBQW1CLElBQUk1RyxFQUFZLHNCQUFzQixTQUFDWSxHQUM5RGdHLEVBQWlCQyxnQkFBZSxHQUNoQ2pCLEVBQ0drQixXQUFXbEcsRUFBS21HLGFBQ2hCNUQsTUFBSyxXQUNKdkMsRUFBS2tHLGFBQ0xGLEVBQWlCbkYsT0FDbkIsSUFDQ3VFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxJQUNDRyxTQUFRLFdBQ1BRLEVBQWlCQyxnQkFBZSxFQUNsQyxHQUNKLElBQ0FELEVBQWlCUCxvQkFFakIsSUFBTVAsRUFBVyxJQUFJa0IsRUFBQUEsU0FBUyxDQUM1QkMsYUFBYyxpQkFDZEMsY0FBZSx3QkFDZkMsY0FBZSxxQkFHWHZCLEVBQU0sSUFBSXZELEVFekZhLENBQ3pCRyxJQUFLLDhDQUNMRSxRQUFTLENBQ1AsZUFBZ0IsbUJBQ2hCMEUsY0FBZSwwQ0Z1RnJCdEUsUUFBUXVFLElBQUksQ0FBQ3pCLEVBQUkwQixjQUFlMUIsRUFBSTJCLGdCQUNqQ3BFLE1BQUssU0FBQW5FLEdBQTJCLEksSUFBQXdJLEcsRUFBQSxFLDRDQUFBeEksSSxvMkJBQXpCMEcsRUFBUThCLEVBQUEsR0FBRUMsRUFBU0QsRUFBQSxHQUN6QnBGLEVBQVNzRCxFQUFTZ0MsSUFDbEI1QixFQUFTQyxZQUFZTCxHQUNyQkksRUFBU1MsY0FBY2IsR0FDdkJKLEVBQVFxQyxZQUFZRixFQUN0QixJQUNDekIsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLElBRUYsSUFBTVQsRUFBYSxTQUFDOUYsR0FDbEIsSUFBTWtJLEVBQVUsSUFBSUMsRUFBQUEsS0FDbEIsQ0FDRXhFLEtBQU0zRCxFQUNOMEMsT0FBUUEsRUFDUjBGLGdCQUFpQixTQUFDcEUsRUFBTXFFLEdBQ3RCdkIsRUFBZXdCLEtBQUt0RSxFQUFNcUUsRUFDNUIsRUFDQUUsZ0JBQWlCLFdBQ1hMLEVBQVFNLFNBQ1Z0QyxFQUNHdUMsV0FBV1AsRUFBUWIsYUFDbkI1RCxNQUFLLFNBQUNSLEdBQ0xpRixFQUFRUSxTQUFTekYsRUFBSTBGLE1BQU1DLE9BQzdCLElBQ0N0QyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsSUFFRkwsRUFDRzJDLFFBQVFYLEVBQVFiLGFBQ2hCNUQsTUFBSyxTQUFDUixHQUNMaUYsRUFBUVEsU0FBU3pGLEVBQUkwRixNQUFNQyxPQUM3QixJQUNDdEMsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBRU4sRUFDQXVDLGlCQUFrQixXQUNoQjVCLEVBQWlCb0IsS0FBS0osRUFDeEIsR0FFRixxQkFJRixPQURvQkEsRUFBUWEsY0FFOUIsRUFFQTFFLEVBQWM1QyxpQkFBaUIsU0FBUyxXQUN0Q2dELEVBQWE2RCxPQUNiLElBQU1VLEVBQU81QyxFQUFTd0IsY0FDdEJqRCxFQUFVdkYsTUFBUTRKLEVBQUtoRixLQUN2QlksRUFBV3hGLE1BQVE0SixFQUFLL0UsTUFDeEJ5QixFQUFpQnVELFlBQ25CLElBRUFsRSxFQUFjdEQsaUJBQWlCLFNBQVMsV0FDdENvRCxFQUFXeUQsT0FDWC9DLEVBQWMwRCxZQUNoQixJQUVBM0UsRUFBa0I3QyxpQkFBaUIsU0FBUyxXQUMxQ2tFLEVBQWdCc0QsYUFDaEIxRSxFQUFZK0QsTUFDZCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwTm90aWNlLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy91dGlscy9jb25zdGFuc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMucmV2ZXJzZSgpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwTm90aWNlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZXRvciwgaGFuZGxlRGVsZXRlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxldG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJyk7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVGb3JtU3VibWl0ID0gaGFuZGxlRGVsZXRlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2NhcmRJbmZvID0ge307XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2NhcmRJbmZvID0gY2FyZDtcclxuICB9XHJcblxyXG4gIGxvYWRpbmdDb25maXJtKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcItCj0LTQsNC70LXQvdC40LUuLi5cIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gXCLQlNCwXCJcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUZvcm1TdWJtaXQodGhpcy5fY2FyZEluZm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBQcm9maWxlQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY2xvc2VcIik7XHJcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjYXBlS2V5KTtcclxuICB9XHJcblxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjYXBlS2V5KTtcclxuXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjYXBlS2V5ID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZUJ5T3ZlcmxheSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFByb2ZpbGVDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUJ5T3ZlcmxheSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwTm90aWNlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwTm90aWNlLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBwcm9maWxlQnV0dG9uLFxyXG4gIHByb2ZpbGVCdXR0b25FZGl0LFxyXG4gIGZvcm1FZGl0UHJvZmlsZSxcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRBYm91dCxcclxuICBhdmF0YXJJbnB1dCxcclxuICBjYXJkRm9ybSxcclxuICBidXR0b25BZGRDYXJkLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgYXBpUGFyYW1ldGVycyxcclxuICBhdmF0YXJGb3JtXHJcbn1cclxuICBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnN0LmpzXCI7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuY29uc3QgY2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNhcmRGb3JtLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuY2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVkaXRQcm9maWxlLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxucHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBhdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihhdmF0YXJGb3JtLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuYXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XHJcbiAgfSxcclxufSxcclxuICBcIi5nYWxsZXJ5XCIpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZGF0YV9wcm9maWxlLWVkaXRcIiwgKHVzZXJEYXRhKSA9PiB7XHJcbiAgcG9wdXBQcm9maWxlLmxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8odXNlckRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cFByb2ZpbGUubG9hZGluZyhmYWxzZSwgXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgICB9KTtcclxufSk7XHJcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9kYXRhX2F2YXRhclwiLCAodXNlckRhdGEpID0+IHtcclxuICBwb3B1cEF2YXRhci5sb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVVzZXJBdmF0YXIodXNlckRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzKTtcclxuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBBdmF0YXIubG9hZGluZyhmYWxzZSwgXCLQntCx0L3QvtCy0LjRgtGMXCIpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfZGF0YV9pbWFnZS1hZGRcIik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cENhcmRzID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZGF0YV9jYXJkLWFkZFwiLCAoY2FyZERhdGEpID0+IHtcclxuICBwb3B1cENhcmRzLmxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZChjYXJkRGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHJlcyk7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgIHBvcHVwQ2FyZHMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBDYXJkcy5sb2FkaW5nKGZhbHNlLCBcItCh0L7Qt9C00LDRgtGMXCIpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5wb3B1cENhcmRzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cENhcmRzRGVsZXRlID0gbmV3IFBvcHVwTm90aWNlKFwiLnBvcHVwX2RhdGFfZGVsZXRlXCIsIChjYXJkKSA9PiB7XHJcbiAgcG9wdXBDYXJkc0RlbGV0ZS5sb2FkaW5nQ29uZmlybSh0cnVlKTtcclxuICBhcGlcclxuICAgIC5kZWxldGVDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICBwb3B1cENhcmRzRGVsZXRlLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwQ2FyZHNEZWxldGUubG9hZGluZ0NvbmZpcm0oZmFsc2UpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5wb3B1cENhcmRzRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgYWJvdXRTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBwcm9maWxlQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaVBhcmFtZXRlcnMpO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0QWxsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZEl0ZW1zXSkgPT4ge1xyXG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YSk7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRJdGVtcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IGNhcmROZXcgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgZGF0YTogaXRlbSxcclxuICAgICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVMaWtlQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAoY2FyZE5ldy5pc0xpa2UoKSkge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5kZWxldGVMaWtlKGNhcmROZXcuZ2V0Q2FyZElkKCkpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkTmV3Lmxpa2VDYXJkKHJlcy5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLnNldExpa2UoY2FyZE5ldy5nZXRDYXJkSWQoKSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmROZXcubGlrZUNhcmQocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVEZWxldGVDYXJkOiAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBDYXJkc0RlbGV0ZS5vcGVuKGNhcmROZXcpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIFwiLmdhbGxlcnktdGVtcGxhdGVcIlxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZE5ldy5nZW5lcmF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07XHJcblxyXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbiAgY29uc3QgaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gaW5mby5uYW1lO1xyXG4gIGlucHV0QWJvdXQudmFsdWUgPSBpbmZvLmFib3V0O1xyXG4gIHByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBDYXJkcy5vcGVuKCk7XHJcbiAgY2FyZFZhbGlkYXRvci5yZXNldFZhbGlkKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZCgpO1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufSk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKGFwaVBhcmFtZXRlcnMpIHtcclxuICAgICAgdGhpcy5fdXJsID0gYXBpUGFyYW1ldGVycy51cmw7XHJcbiAgICAgIHRoaXMuX2hlYWRlcnMgPSBhcGlQYXJhbWV0ZXJzLmhlYWRlcnM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGFuZGxlUmVwbHkocmVzKSB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAgIC50aGVuKFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlcGx5XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBnZXRBbGxDYXJkcygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcclxuICAgICAgLnRoZW4oXHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmVwbHlcclxuICAgICAgKTtcclxuICAgIH1cclxuICBcclxuICAgIHVwZGF0ZVVzZXJJbmZvKGRhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuYWJvdXQgfSksXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlcGx5KTtcclxuICAgIH1cclxuICBcclxuICAgIGFkZE5ld0NhcmQoY2FyZERhdGEpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKSxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgc2V0TGlrZShpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZGVsZXRlTGlrZShpZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVwbHkpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgdXBkYXRlVXNlckF2YXRhcihkYXRhKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXBseSk7XHJcbiAgICB9XHJcbiAgfSIsImV4cG9ydCBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b24gPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2RhdGFfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW5wdXQgPSBwb3B1cEF2YXRhci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tYXZhdGFyXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kYXRhX3Byb2ZpbGUtZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlQ2xvc2UgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FZGl0UHJvZmlsZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcjcG9wdXBfX2Zvcm0tcHJvZmlsZScpO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF9kYXRhX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QWJvdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfYWJvdXQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2RhdGFfY2FyZC1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZHNDbG9zZSA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWUgPSBwb3B1cENhcmRzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF9kYXRhX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBpbnB1dEltYWdlID0gcG9wdXBDYXJkcy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0taW5wdXRfZGF0YV9saW5rJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkRm9ybSA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcignI3BvcHVwX19mb3JtLWNhcmQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmRzSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZGF0YV9pbWFnZS1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZHNJbWFnZUNsb3NlID0gcG9wdXBDYXJkc0ltYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkQ2FyZCcpO1xyXG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgYXBpUGFyYW1ldGVycyA9IHtcclxuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYyXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjk0YzVmOTdmLWI4Y2QtNDgzOC04YzRjLWJmMjYwNThiYTZkMFwiLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9fZm9ybS1pbnB1dCcsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uLXNhdmUnLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b24tc2F2ZV9pbmFjdGl2ZScsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pbnB1dF9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScsXHJcbn07Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJrZXkiLCJpdGVtIiwicHJlcGVuZCIsIml0ZW1zIiwiX3RoaXMiLCJyZXZlcnNlIiwiZm9yRWFjaCIsIlBvcHVwTm90aWNlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwicG9wdXBTZWxldG9yIiwiaGFuZGxlRGVsZXRlRm9ybVN1Ym1pdCIsImNhbGwiLCJfZm9ybSIsIl9wb3B1cCIsIl9idXR0b24iLCJfaGFuZGxlRGVsZXRlRm9ybVN1Ym1pdCIsIl9jYXJkSW5mbyIsImNhcmQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiaXNMb2FkaW5nIiwidGV4dENvbnRlbnQiLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJjbG9zZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3BvcHVwUHJvZmlsZUNsb3NlIiwiYmluZCIsImFkZCIsIl9oYW5kbGVFc2NhcGVLZXkiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2Nsb3NlQnlPdmVybGF5IiwidXNlcklkIiwiQXBpIiwiYXBpUGFyYW1ldGVycyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiY29uY2F0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2hhbmRsZVJlcGx5IiwiZGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwiY2FyZERhdGEiLCJpZCIsImNvbnRlbnQiLCJwcm9maWxlQnV0dG9uIiwicHJvZmlsZUJ1dHRvbkVkaXQiLCJwb3B1cEF2YXRhciIsImF2YXRhckZvcm0iLCJwb3B1cFByb2ZpbGUiLCJmb3JtRWRpdFByb2ZpbGUiLCJpbnB1dE5hbWUiLCJpbnB1dEFib3V0IiwicG9wdXBDYXJkcyIsImNhcmRGb3JtIiwiYnV0dG9uQWRkQ2FyZCIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNhcmRWYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVWYWxpZGF0b3IiLCJhdmF0YXJWYWxpZGF0b3IiLCJzZWN0aW9uIiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJQb3B1cFdpdGhGb3JtIiwidXNlckRhdGEiLCJsb2FkaW5nIiwiYXBpIiwidXBkYXRlVXNlckluZm8iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwidXBkYXRlVXNlckF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJwb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEltYWdlIiwiYWRkTmV3Q2FyZCIsImNhcmRFbGVtZW50IiwicG9wdXBDYXJkc0RlbGV0ZSIsImxvYWRpbmdDb25maXJtIiwiZGVsZXRlQ2FyZCIsImdldENhcmRJZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsInByb2ZpbGVBdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRBbGxDYXJkcyIsIl9yZWYyIiwiY2FyZEl0ZW1zIiwiX2lkIiwicmVuZGVySXRlbXMiLCJjYXJkTmV3IiwiQ2FyZCIsImhhbmRsZUNhcmRDbGljayIsImxpbmsiLCJvcGVuIiwiaGFuZGxlTGlrZUNsaWNrIiwiaXNMaWtlIiwiZGVsZXRlTGlrZSIsImxpa2VDYXJkIiwibGlrZXMiLCJsZW5ndGgiLCJzZXRMaWtlIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImluZm8iLCJyZXNldFZhbGlkIl0sInNvdXJjZVJvb3QiOiIifQ==
(()=>{"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}e.p="";var n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._handleCardClick=n,this._templateSelector=r,this._element=this._getTemplate(),this._deleteCard=this._element.querySelector(".gallery__button-delete"),this._cardLike=this._element.querySelector(".gallery__button-like"),this._cardImage=this._element.querySelector(".gallery__image"),this._cardName=this._element.querySelector(".gallery__title")}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".gallery__element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._cardName.textContent=this._name,this._cardImage.alt=this._name,this._cardImage.src=this._link,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._deleteCard.addEventListener("click",(function(){e._element.remove()})),this._cardLike.addEventListener("click",(function(){e._cardLike.classList.toggle("gallery__button-like_active")})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const o=[{name:"Бамбуковый лес",link:e.p+"2256fc84ca6d99fe8e68.jpg"},{name:"Горы Тяньцзи",link:e.p+"eca68a7f4c590fca4da9.jpg"},{name:"Остров Санторини",link:e.p+"31c5370691ab08d15005.jpg"},{name:"Великий каньон",link:e.p+"28e054bf688f4520891d.jpg"},{name:"Памуккале",link:e.p+"d79f999f226cc74ce0fd.jpg"},{name:"Венеция",link:e.p+"1e905b60af7b9329de77.jpg"}];function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}var p=l((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_showInputError",(function(e,t){var r=n._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(n._listSelector.inputErrorClass),r.textContent=t,r.classList.add(n._listSelector.errorClass)})),c(this,"_hideInputError",(function(e){var t=n._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(n._listSelector.inputErrorClass),t.classList.remove(n._listSelector.errorClass),t.textContent=""})),c(this,"_checkInputValidity",(function(e){e.validity.valid?n._hideInputError(e):n._showInputError(e,e.validationMessage)})),c(this,"_toggleButtonState",(function(){n._hasInvalidInput()?(n._buttonElement.setAttribute("disabled",!0),n._buttonElement.classList.add(n._listSelector.inactiveButtonClass)):(n._buttonElement.removeAttribute("disabled"),n._buttonElement.classList.remove(n._listSelector.inactiveButtonClass))})),c(this,"_hasInvalidInput",(function(){return n._inputList.some((function(e){return!e.validity.valid}))})),c(this,"_setEventListeners",(function(){n._toggleButtonState(),n._inputList.forEach((function(e){e.addEventListener("input",(function(){n._checkInputValidity(e),n._toggleButtonState()}))}))})),c(this,"resetValid",(function(){n._toggleButtonState(),n._inputList.forEach((function(e){n._hideInputError(e)}))})),c(this,"enableValidation",(function(){n._setEventListeners(),n._toggleButtonState()})),this._formElement=t,this._listSelector=r,this._inputList=Array.from(t.querySelectorAll(this._listSelector.inputSelector)),this._buttonElement=this._formElement.querySelector(this._listSelector.submitButtonSelector)}));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}var y=function(){function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;this._items.reverse().forEach((function(t){e.addItem(e._renderer(t))}))}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function b(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}var v=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_handleEscapeKey",(function(e){"Escape"===e.key&&r.close()})),b(this,"_closeByOverlay",(function(e){e.target.classList.contains("popup")&&r.close()})),this._popup=document.querySelector(t),this._popupProfileClose=this._popup.querySelector(".popup__button-close"),this.close=this.close.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscapeKey)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscapeKey)}},{key:"setEventListeners",value:function(){this._popupProfileClose.addEventListener("click",this.close),this._popup.addEventListener("click",this._closeByOverlay)}}])&&_(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},g.apply(this,arguments)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(n);if(o){var r=E(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popup.querySelector(".popup__image"),t._popupCaption=t._popup.querySelector(".popup__caption"),t}return t=u,(r=[{key:"open",value:function(e,t){g(E(u.prototype),"open",this).call(this),this._popupImage.src=t,this._popupImage.alt=e,this._popupCaption.textContent=e}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===O(o)?o:String(o)),n)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},P.apply(this,arguments)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(n);if(o){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._formElement=r._popup.querySelector(".popup__form"),r._handleSumbit=t,r._inputList=Array.from(r._formElement.querySelectorAll(".popup__form-input")),r._button=r._formElement.querySelector(".popup__button-save"),r}return t=u,(r=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){P(L(u.prototype),"close",this).call(this),this._formElement.reset()}},{key:"setEventListeners",value:function(){var e=this;P(L(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSumbit(e._getInputValues()),e.close()}))}}])&&k(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===I(o)?o:String(o)),n)}var o}var R=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(t),this.userAbout=document.querySelector(r)}var t,r;return t=e,r=[{key:"getUserInfo",value:function(){return{name:this.userName.textContent,about:this.userAbout.textContent}}},{key:"setUserInfo",value:function(e){var t=e.inputName,r=e.inputAbout;this.userName.textContent=t,this.userAbout.textContent=r}}],r&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B=document.querySelector(".content"),x=B.querySelector(".profile__button-edit"),A=(B.querySelector(".profile__name"),B.querySelector(".profile__description"),document.querySelector(".popup_data_profile-edit")),V=(A.querySelector(".popup__button-close"),A.querySelector("#popup__form-profile")),N=A.querySelector(".popup__form-input_data_name"),D=A.querySelector(".popup__form-input_data_about"),U=document.querySelector(".popup_data_card-add"),K=(U.querySelector(".popup__button-close"),U.querySelector(".popup__form-input_data_title"),U.querySelector(".popup__form-input_data_link"),U.querySelector("#popup__form-card")),M=(document.querySelector(".popup_data_image-add").querySelector(".popup__button-close"),document.querySelector(".profile__button-addCard")),z=(document.querySelector(".gallery"),document.querySelector(".popup__image"),document.querySelector(".popup__caption"),{formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button-save_inactive",inputErrorClass:"popup__form-input_error",errorClass:"popup__input-error_active"}),F=new p(K,z);F.enableValidation();var G=new p(V,z);G.enableValidation();var H=new y({items:o,renderer:function(e){return Z(e)}},".gallery"),J=new C(".popup_data_profile-edit",(function(e){X.setUserInfo(e)}));J.setEventListeners();var Q=new j(".popup_data_image-add");Q.setEventListeners();var W=new C(".popup_data_card-add",(function(e){H.addItem(Z(e))}));W.setEventListeners();var X=new R(".profile__name",".profile__description"),Y=function(e,t){Q.open(e,t)};function Z(e){return new n(e,".gallery-template",Y).generateCard()}x.addEventListener("click",(function(){J.open();var e=X.getUserInfo();N.value=e.name,D.value=e.about,G.resetValid()})),M.addEventListener("click",(function(){W.open(),F.resetValid()})),H.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQzdCaUksRUFBZUcsS0FBS3RJLEVBQU1FLEVBQzVCLEVBbUJBLFNBQVM0SCxFQUFXUyxHQUVsQixPQURnQixJQUFJN0ksRUFBSzZJLEVBQU0sb0JBQXFCM0ksR0FDckM0SSxjQUNqQixDQXBCQXZCLEVBQWtCM0YsaUJBQWlCLFNBQVMsV0FDMUM0RixFQUFhb0IsT0FDYixJQUFNRyxFQUFPVCxFQUFTVSxjQUN0QjNCLEVBQVVsRyxNQUFRNEgsRUFBS3pJLEtBQ3ZCZ0gsRUFBV25HLE1BQVE0SCxFQUFLM0IsTUFDeEJhLEVBQWlCZ0IsWUFDbkIsSUFFQXJCLEVBQWNoRyxpQkFBaUIsU0FBUyxXQUN0QzhHLEVBQVdFLE9BQ1hiLEVBQWNrQixZQUNoQixJQWVBZixFQUFRZ0IsYSIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL3V0aWxzL2NhcmRzLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnN0LmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoQ2FyZCwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gQ2FyZC5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IENhcmQubGluaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fYnV0dG9uLWRlbGV0ZScpO1xyXG4gICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19idXR0b24tbGlrZScpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9faW1hZ2UnKTtcclxuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fdGl0bGUnKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdnYWxsZXJ5X19idXR0b24tbGlrZV9hY3RpdmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IEJhbWJvb0ZvcmVzdCBmcm9tICcuLi9pbWFnZXMvQmFtYm9vX2ZvcmVzdC5qcGcnO1xyXG5pbXBvcnQgVGlhbnppTW91bnRhaW5zIGZyb20gJy4uL2ltYWdlcy9UaWFuemlfTW91bnRhaW5zLmpwZyc7XHJcbmltcG9ydCBTYW50b3JpbmlJc2xhbmQgZnJvbSAnLi4vaW1hZ2VzL1NhbnRvcmluaV9pc2xhbmQuanBnJztcclxuaW1wb3J0IEdyZWF0Q2FueW9uIGZyb20gJy4uL2ltYWdlcy9HcmVhdF9DYW55b24uanBnJztcclxuaW1wb3J0IFBhbXVra2FsZSBmcm9tICcuLi9pbWFnZXMvUGFtdWtrYWxlLmpwZyc7XHJcbmltcG9ydCBWZW5pY2UgZnJvbSAnLi4vaW1hZ2VzL1ZlbmljZS5qcGcnO1xyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JHQsNC80LHRg9C60L7QstGL0Lkg0LvQtdGBJyxcclxuICAgICAgbGluazogQmFtYm9vRm9yZXN0LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CT0L7RgNGLINCi0Y/QvdGM0YbQt9C4JyxcclxuICAgICAgbGluazogVGlhbnppTW91bnRhaW5zLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Ce0YHRgtGA0L7QsiDQodCw0L3RgtC+0YDQuNC90LgnLFxyXG4gICAgICBsaW5rOiBTYW50b3JpbmlJc2xhbmQsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JLQtdC70LjQutC40Lkg0LrQsNC90YzQvtC9JyxcclxuICAgICAgbGluazogR3JlYXRDYW55b24sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0J/QsNC80YPQutC60LDQu9C1JyxcclxuICAgICAgbGluazogUGFtdWtrYWxlLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CS0LXQvdC10YbQuNGPJyxcclxuICAgICAgbGluazogVmVuaWNlLFxyXG4gICAgfVxyXG4gIF07XHJcbiAgZXhwb3J0IGRlZmF1bHQgaW5pdGlhbENhcmRzOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBsaXN0U2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9saXN0U2VsZWN0b3IgPSBsaXN0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fbGlzdFNlbGVjdG9yLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2xpc3RTZWxlY3Rvci5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2xpc3RTZWxlY3Rvci5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fbGlzdFNlbGVjdG9yLmVycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2xpc3RTZWxlY3Rvci5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fbGlzdFNlbGVjdG9yLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2xpc3RTZWxlY3Rvci5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2xpc3RTZWxlY3Rvci5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXNldFZhbGlkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9O1xyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY29udGFpbnRlclNlbGVjdG9yICkge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW50ZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLmFkZEl0ZW0odGhpcy5fcmVuZGVyZXIoaXRlbSkpXHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBQcm9maWxlQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY2xvc2VcIik7XHJcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjYXBlS2V5KTtcclxuICB9XHJcblxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjYXBlS2V5KTtcclxuXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjYXBlS2V5ID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZUJ5T3ZlcmxheSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFByb2ZpbGVDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUJ5T3ZlcmxheSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdW1iaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VtYml0ID0gaGFuZGxlU3VtYml0O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19mb3JtLWlucHV0XCIpKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbi1zYXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VtYml0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy51c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgdGhpcy51c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgbmFtZTogdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgIGFib3V0OiB0aGlzLnVzZXJBYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBzZXRVc2VySW5mbyh7aW5wdXROYW1lLCBpbnB1dEFib3V0fSkge1xyXG4gICAgICAgIHRoaXMudXNlck5hbWUudGV4dENvbnRlbnQgPSBpbnB1dE5hbWU7XHJcbiAgICAgICAgdGhpcy51c2VyQWJvdXQudGV4dENvbnRlbnQgPSBpbnB1dEFib3V0O1xyXG4gICAgICB9XHJcbiAgICB9IiwiZXhwb3J0IGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uUHJvZmlsZUVkaXQgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2RhdGFfcHJvZmlsZS1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVDbG9zZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1jbG9zZScpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVkaXRQcm9maWxlID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fZm9ybS1wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWlucHV0X2RhdGFfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgaW5wdXRBYm91dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0taW5wdXRfZGF0YV9hYm91dCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2RhdGFfY2FyZC1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZENsb3NlID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF9kYXRhX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBpbnB1dEltYWdlID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF9kYXRhX2xpbmsnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRGb3JtID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fZm9ybS1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kYXRhX2ltYWdlLWFkZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXJkSW1hZ2VDbG9zZSA9IHBvcHVwQ2FyZEltYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1hZGRDYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0taW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbi1zYXZlJyxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uLXNhdmVfaW5hY3RpdmUnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2Zvcm0taW5wdXRfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG59OyIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBpbml0aWFsQ2FyZHMgZnJvbSBcIi4uL3V0aWxzL2NhcmRzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnV0dG9uUHJvZmlsZUVkaXQsXHJcbiAgZm9ybUVkaXRQcm9maWxlLFxyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dEFib3V0LFxyXG4gIGNhcmRGb3JtLFxyXG4gIGJ1dHRvbkFkZENhcmQsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZ1xyXG59XHJcbiAgZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW5zdC5qc1wiO1xyXG5cclxuY29uc3QgY2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNhcmRGb3JtLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuY2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVkaXRQcm9maWxlLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxucHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe2l0ZW1zOiBpbml0aWFsQ2FyZHMsIHJlbmRlcmVyOiAoaXRlbSkgPT4gY3JlYXRlQ2FyZChpdGVtKX0sIFwiLmdhbGxlcnlcIik7XHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9kYXRhX3Byb2ZpbGUtZWRpdFwiLCBzdWJtaXRFZGl0UHJvZmlsZUZvcm0pO1xyXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2RhdGFfaW1hZ2UtYWRkXCIpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBDYXJkcyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2RhdGFfY2FyZC1hZGRcIiwgaGFuZGxlQ2FyZEZvcm1TdWJtaXQpO1xyXG5wb3B1cENhcmRzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX19uYW1lXCIsIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKG5hbWUsIGxpbmspID0+IHtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG5idXR0b25Qcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IGluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGlucHV0TmFtZS52YWx1ZSA9IGluZm8ubmFtZTtcclxuICBpbnB1dEFib3V0LnZhbHVlID0gaW5mby5hYm91dDtcclxuICBwcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWQoKTtcclxufSk7XHJcblxyXG5idXR0b25BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwQ2FyZHMub3BlbigpO1xyXG4gIGNhcmRWYWxpZGF0b3IucmVzZXRWYWxpZCgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRQcm9maWxlRm9ybShkYXRhKSB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZCkge1xyXG4gIGNvbnN0IGNhcmROZXcgPSBuZXcgQ2FyZChjYXJkLCAnLmdhbGxlcnktdGVtcGxhdGUnLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gIHJldHVybiBjYXJkTmV3LmdlbmVyYXRlQ2FyZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdChjYXJkTmV3KSB7XHJcbiAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZE5ldykpO1xyXG59XHJcblxyXG5zZWN0aW9uLnJlbmRlckl0ZW1zKCk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUNhcmRDbGljayIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfZGVsZXRlQ2FyZCIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZExpa2UiLCJfY2FyZEltYWdlIiwiX2NhcmROYW1lIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsImFsdCIsInNyYyIsIl9zZXRFdmVudExpc3RlbmVycyIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIkZvcm1WYWxpZGF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJmb3JtRWxlbWVudCIsImxpc3RTZWxlY3RvciIsIl9kZWZpbmVQcm9wZXJ0eSIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImNvbmNhdCIsImlkIiwiYWRkIiwiX2xpc3RTZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiX2lucHV0TGlzdCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW50ZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsInByZXBlbmQiLCJyZXZlcnNlIiwiYWRkSXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXAiLCJfcG9wdXBQcm9maWxlQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUVzY2FwZUtleSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfY2xvc2VCeU92ZXJsYXkiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cENhcHRpb24iLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1bWJpdCIsIl9oYW5kbGVTdW1iaXQiLCJfYnV0dG9uIiwiZm9ybVZhbHVlcyIsImlucHV0IiwicmVzZXQiLCJfdGhpczIiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsInVzZXJOYW1lIiwidXNlckFib3V0IiwiYWJvdXQiLCJpbnB1dE5hbWUiLCJpbnB1dEFib3V0IiwiYnV0dG9uUHJvZmlsZUVkaXQiLCJwb3B1cFByb2ZpbGUiLCJmb3JtRWRpdFByb2ZpbGUiLCJwb3B1cENhcmQiLCJjYXJkRm9ybSIsImJ1dHRvbkFkZENhcmQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiY2FyZFZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJwcm9maWxlVmFsaWRhdG9yIiwic2VjdGlvbiIsImluaXRpYWxDYXJkcyIsImNyZWF0ZUNhcmQiLCJkYXRhIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cENhcmRzIiwiY2FyZE5ldyIsIm9wZW4iLCJjYXJkIiwiZ2VuZXJhdGVDYXJkIiwiaW5mbyIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZCIsInJlbmRlckl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==